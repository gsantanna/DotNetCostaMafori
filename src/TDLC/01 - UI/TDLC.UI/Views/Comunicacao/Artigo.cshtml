

@{
    ViewBag.Title = "Artigos";
}




    <section class="contato-home hidden-xs" style='background-image:url(/Content/Uploads/@ConteudoInstitucionalHelper.GetImage("ARTIGO_IMG_HEADER"))'>
        <div class="container">
            <div class="row">
                <div class="col-md-11 col-md-offset-1">
                    <div class="contato-home-head wow zoomIn">
                        <h2>@ViewBag.Title</h2>
                    </div>
                </div>
            </div>
        </div>
    </section>


<section class="contato-home visible-xs" style="background-image:url(/Content/Uploads/@ConteudoInstitucionalHelper.GetImage("ARTIGO_IMG_HEADER_MOBILE"))">

    <div class="container">
	<div class="row">
            <div class="col-md-11 col-md-offset-1">
		<div class="contato-home-head wow zoomIn">
                    <h2>@ViewBag.Title</h2>
		</div>
            </div>
	</div>
    </div>
</section>







<section class="interna-com colada top-line-bot ">
    <div class="container">
        <div class="row nopad nospace">

            @if (((int[])ViewBag.Anos).Count() > 4)
            {
                <div class="col-sm-1">
                    <a class="btn-nav scrollleft" href="javascript:void(0);">
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                    </a>
                </div>
            }

            <div style="" class="text-nowrap col-md-10 scrollbar-anos ">
                <nav class="lista-anos">
                    <ul>
                        @foreach (var ano in ViewBag.Anos)
                        {
                            <li><a class='@(ViewBag.Ano1 == ano  ? "ativo":"" ) ano_@ano' href="javascript:atualizaValores(@ano);">@ano</a></li>
                        }
                    </ul>
                </nav>
            </div>


            @if (((int[])ViewBag.Anos).Count() > 8)
            {
                <div class="col-sm-1">
                    <a class="btn-nav scrollright" href="javascript:void(0);">
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
                </div>
            }
        </div><!-- /row -->
    </div>

</section>

<script type="application/html-template" id="template-item">
    <li class="list-news-item" style='display:{{visivel}}' data-pagina="{{pagina}}">
        <a href='@Url.Content("~/comunicacao/artigos/"){{url}}'>
            <div class="txt-noticias-anteriores">
                <div class="txt-noticias-anteriores-titulo">{{titulo}}</div>
                {{destaque}}
            </div>
        </a>
    </li>
</script>



<section class="interna-com colada  ">
    <div class="container">
        <div class="row nospace">

            <div class="col-md-12 wow " style="visibility: visible; ">


                <div id="dvSaida">

                </div>               

            </div>

            <div class="col-md-12 text-center" >
                <nav aria-label="Page navigation" style='display:none' id="paginador">
                    <ul class="pagination">
                        <li class="pagination-voltar">
                            <a href="javascript:void(0);" id="btnPaginacaoVoltar" aria-label="Previous">
                                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                            </a>
                        </li>
                        <li>
                            <a href="javascript:void(0)" id="btnPaginacaoAvancar" aria-label="Next">
                                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>            

        </div><!-- /row -->
    </div>
</section>

<!-- pagination area start -->
<section>
    <div class="container">
        <div class="row nospace">
            <div class="col-md-12 text-center" >
                <nav aria-label="Page navigation example">
                    <ul class="pagination">
                        <li class="page-item">
                            <a class="page-link" href="#" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                                <span class="sr-only">Previous</span>
                            </a>
                        </li>
                        <li class="page-item"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                            <a class="page-link" href="#" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                                <span class="sr-only">Next</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>    
</section>



@section scripts
{

    <script src="~/Scripts/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>

    <style type="text/css">
        .ui-accordion-header {
            background-color: transparent;
            background-image: url('../../Content/img/destaque-bullet.png');
            background-repeat: no-repeat;
            color: #9d9d9d;
            font-size: 25px !important;
            margin-top: 20px;
            border: none !important;
            padding-top: 6px !important;
            padding-left: 25px !important;
            cursor: pointer;
            cursor: hand;
            min-height: 39px;
            font-weight: 400;
            font-family: Lato;
        }



        .ui-accordion-content {
            background-image: url('../../Content/img/destaque-bullet-bgcont-pq.jpg');
            background-repeat: repeat-y;
            margin-bottom: 20px;
            padding-left: 40px;
            font-family: 'latolight';
            padding-bottom: 20px;
            padding-top: 20px;
        }

        .ui-state-active {
            border: none;
        }

        .ui-widget-content {
            border: none !important;
        }

        .ui-icon-triangle-1-e {
            display: none;
        }

        *:focus {
            outline: none;
        }
    </style>

    <script>

        $(document).ready(function () {



            $(".scrollbar-anos").scrollLeft(999999);

            $('.scrollleft').click(function () {
                $('.scrollbar-anos').animate({
                    scrollLeft: '-=180'
                }, 300, 'easeOutQuad');
            });

            $('.scrollright').click(function () {
                $('.scrollbar-anos').animate({
                    scrollLeft: '+=180'
                }, 300, 'easeOutQuad');
            });



        });




        var meses = ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outuro", "Novembro", "Dezembro"];



        var atualizaValores = function (ano) {

            $("#dvSaida").html("<div id='dvloading' style='text-center;margin-left:50%;margin-right:auto;'><img src='@Url.Content("~/Content/Img/loading-animation.gif")' /></div>");
            setTimeout(_atualizaValores(ano), 100);


        }

        var _atualizaValores = function (ano) {

            $.ajax({
                url: '@Url.Action("PublicacoesAno")?tipo=artigo&ano=' + ano,
                cache: false
            }).done(function (obj, s) {

                var htmlSaida = "<ul class='list-news' style='min-height:289px;'>";

                //desenha os itens
                $(obj).each(function (idx, obj) {
                    htmlSaida += $("#template-item").html()
                        .replace("{{titulo}}", obj.Titulo)
                        .replace("{{destaque}}", obj.Conteudos[0].Destaque_Texto )
                        .replace("{{url}}", obj.URL);

                });//each itens

                htmlSaida += "</div>";
                $("#dvloading").fadeOut("fast");
                $("#dvSaida").html(htmlSaida);
                



                $(".lista-anos li .ativo").removeClass("ativo");
                $(".lista-anos li .ano_" + ano).addClass("ativo")


            });//done

        }//funcao


        atualizaValores(@ViewBag.Ano1);




    </script>
}
